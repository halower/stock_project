#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
无效股票代码配置文件
包含所有北交所废弃股票代码和A股退市股票代码
生成时间: 2025-11-08 10:29:53
"""

# 北交所废弃股票代码
BJ_OBSOLETE_CODES = [
    ("920834.BJ", "三维装备"),
    ("920021.BJ", "流金科技"),
    ("920026.BJ", "卓兆点胶"),
    ("920961.BJ", "创远信科"),
    ("837242.BJ", "建邦科技"),
    ("832786.BJ", "骑士乳业"),
    ("837092.BJ", "汉鑫科技"),
    ("831961.BJ", "创远信科"),
    ("920179.BJ", "凯德石英"),
    ("836871.BJ", "派特尔"),
    ("920680.BJ", "*ST广道"),
    ("835305.BJ", "ST云创"),
    ("920299.BJ", "灿能电力"),
    ("920207.BJ", "众诚科技"),
    ("833873.BJ", "中设咨询"),
    ("831445.BJ", "龙竹科技"),
    ("920163.BJ", "方大新材"),
    ("920305.BJ", "*ST云创"),
    ("870299.BJ", "灿能电力"),
    ("838163.BJ", "方大新材"),
    ("832225.BJ", "利通科技"),
    ("920419.BJ", "路斯股份"),
    ("873122.BJ", "中纺标"),
    ("834021.BJ", "流金科技"),
    ("832419.BJ", "路斯股份"),
    ("830879.BJ", "基康技术"),
    ("920786.BJ", "骑士乳业"),
    ("920879.BJ", "基康技术"),
    ("835207.BJ", "众诚科技"),
    ("838030.BJ", "德众汽车"),
    ("833580.BJ", "科创新材"),
    ("873726.BJ", "卓兆点胶"),
    ("839680.BJ", "ST广道"),
    ("838810.BJ", "春光智能"),
    ("920871.BJ", "派特尔"),
    ("835179.BJ", "凯德石英"),
    ("920810.BJ", "春光智能"),
    ("920580.BJ", "科创新材"),
    ("831834.BJ", "三维装备")
]

# A股退市股票代码
A_STOCK_DELISTED_CODES = [
    ("000003.SZ", "PT金田"),
    ("000005.SZ", "世纪星源"),
    ("000013.SZ", "*ST石化A"),
    ("000015.SZ", "PT中浩A"),
    ("000018.SZ", "ST中冠A"),
    ("000023.SZ", "深天地A"),
    ("000024.SZ", "招商地产"),
    ("000033.SZ", "*ST新都"),
    ("000038.SZ", "深大通"),
    ("000040.SZ", "深华源"),
    ("000046.SZ", "泛海建设"),
    ("000047.SZ", "ST中侨"),
    ("000040.SZ", "深华源"),
    ("000046.SZ", "泛海建设"),
    ("000047.SZ", "ST中侨"),
    ("000150.SZ", "宜华健康"),
    ("000405.SZ", "鑫光铝电"),
    ("000406.SZ", "石油大明"),
    ("000412.SZ", "ST五环"),
    ("000413.SZ", "宝石A"),
    ("000416.SZ", "健特生物"),
    ("000418.SZ", "ST天水"),
    ("000502.SZ", "恒逸石化"),
    ("000508.SZ", "民丰特纸"),
    ("000511.SZ", "银基发展"),
    ("000515.SZ", "攀渝钛业"),
    ("000522.SZ", "白云山A"),
    ("000527.SZ", "美的股份"),
    ("000535.SZ", "ST猴王"),
    ("000540.SZ", "世纪中天"),
    ("000542.SZ", "TCL通讯"),
    ("000549.SZ", "湘火炬A"),
    ("000556.SZ", "ST南洋"),
    ("000562.SZ", "宏源证券"),
    ("000569.SZ", "长城特钢"),
    ("000578.SZ", "数码网络"),
    ("000583.SZ", "托普软件"),
    ("000584.SZ", "蜀都A"),
    ("000585.SZ", "东北电"),
    ("000587.SZ", "ST海洋"),
    ("000588.SZ", "ST粤金曼"),
    ("000594.SZ", "ST宏峰"),
    ("000602.SZ", "金马集团"),
    ("000606.SZ", "青海明胶"),
    ("000611.SZ", "民族集团"),
    ("000613.SZ", "ST东海A"),
    ("000616.SZ", "大连渤海"),
    ("000618.SZ", "ST吉化"),
    ("000621.SZ", "北京比特"),
    ("000622.SZ", "岳阳恒立"),
    ("000627.SZ", "天茂集团"),
    ("000653.SZ", "ST九州"),
    ("000658.SZ", "ST海洋"),
    ("000660.SZ", "ST南华"),
    ("000662.SZ", "ST康达"),
    ("000666.SZ", "经纬纺机"),
    ("000667.SZ", "名流投资"),
    ("000671.SZ", "ST石狮"),
    ("000673.SZ", "大同水泥"),
    ("000675.SZ", "银山化工"),
    ("000687.SZ", "保定天鹅"),
    ("000689.SZ", "ST宏业"),
    ("000693.SZ", "聚友网络"),
    ("000699.SZ", "ST佳纸"),
    ("000730.SZ", "环保股份"),
    ("000732.SZ", "福建三农"),
    ("000748.SZ", "湘计算机"),
    ("000760.SZ", "ST博盈"),
    ("000763.SZ", "ST锦州港"),
    ("000765.SZ", "*ST华信"),
    ("000769.SZ", "ST大菲"),
    ("000780.SZ", "草原兴发"),
    ("000787.SZ", "*ST创智"),
    ("000805.SZ", "炎黄在线"),
    ("000806.SZ", "银河科技"),
    ("000817.SZ", "辽河油田"),
    ("000827.SZ", "长兴实业"),
    ("000832.SZ", "ST龙涤"),
    ("000835.SZ", "隆源双登"),
    ("000836.SZ", "天大天财"),
    ("000861.SZ", "海印股份"),
    ("000866.SZ", "扬子石化"),
    ("000916.SZ", "华北高速"),
    ("000918.SZ", "ST亚华"),
    ("000939.SZ", "凯迪电力"),
    ("000956.SZ", "中原油气"),
    ("000961.SZ", "ST中南"),
    ("000971.SZ", "ST迈亚"),
    ("000976.SZ", "春晖股份"),
    ("000979.SZ", "科苑集团"),
    ("000982.SZ", "圣雪绒"),
    ("000996.SZ", "捷利股份"),
    ("002002.SZ", "江苏琼花"),
    ("002013.SZ", "中航精机"),
    ("002018.SZ", "华星化工"),
    ("002070.SZ", "众和股份"),
    ("002071.SZ", "江苏宏宝"),
    ("002087.SZ", "新野纺织"),
    ("002089.SZ", "新海宜"),
    ("002113.SZ", "天润发展"),
    ("002118.SZ", "紫鑫药业"),
    ("002143.SZ", "高金食品"),
    ("002147.SZ", "方圆支承"),
    ("002220.SZ", "天宝股份"),
    ("002260.SZ", "德奥通航"),
    ("002280.SZ", "新世纪"),
    ("002288.SZ", "超华科技"),
    ("002308.SZ", "威创股份"),
    ("002325.SZ", "洪涛股份"),
    ("002336.SZ", "人人乐"),
    ("002341.SZ", "新纶科技"),
    ("002359.SZ", "齐星铁塔"),
    ("002411.SZ", "九九久"),
    ("002417.SZ", "三元达"),
    ("002433.SZ", "太安堂"),
    ("002435.SZ", "长江健康"),
    ("002447.SZ", "壹桥海参"),
    ("002450.SZ", "康得新"),
    ("002464.SZ", "金利科技"),
    ("002473.SZ", "圣莱达"),
    ("002477.SZ", "雏鹰农牧"),
    ("002499.SZ", "科林环保"),
    ("002502.SZ", "骅威文化"),
    ("002503.SZ", "搜于特"),
    ("002504.SZ", "弘高创意"),
    ("002505.SZ", "大康农业"),
    ("002509.SZ", "天广中茂"),
    ("002604.SZ", "龙力生物"),
    ("002610.SZ", "梦洁家纺"),
    ("002618.SZ", "丹邦科技"),
    ("002619.SZ", "艾格拉斯"),
    ("002621.SZ", "美吉姆"),
    ("002665.SZ", "首航节能"),
    ("002680.SZ", "长生生物"),
    ("002684.SZ", "猛狮科技"),
    ("002699.SZ", "美盛文化"),
    ("002711.SZ", "欧浦智网"),
    ("002740.SZ", "爱迪尔"),
    ("002750.SZ", "龙津药业"),
    ("002751.SZ", "易尚展示"),
    ("002770.SZ", "科迪乳业"),
    ("002776.SZ", "先锋新材"),
    ("002781.SZ", "奇信股份"),
    ("300023.SZ", "宝德股份"),
    ("300028.SZ", "金亚科技"),
    ("300038.SZ", "梅泰诺"),
    ("300064.SZ", "豫金刚石"),
    ("300089.SZ", "文化长城"),
    ("300090.SZ", "盛运环保"),
    ("300104.SZ", "乐视网"),
    ("300108.SZ", "吉峰农机"),
    ("300116.SZ", "坚瑞消防"),
    ("300117.SZ", "嘉寓股份"),
    ("300156.SZ", "天立环保"),
    ("300178.SZ", "腾邦国际"),
    ("300186.SZ", "大华农"),
    ("300202.SZ", "聚龙股份"),
    ("300208.SZ", "恒顺众昇"),
    ("300216.SZ", "千山药机"),
    ("300262.SZ", "巴安水务"),
    ("300273.SZ", "和佳医疗"),
    ("300280.SZ", "紫天科技"),
    ("300282.SZ", "汇冠股份"),
    ("300297.SZ", "蓝盾股份"),
    ("300309.SZ", "吉艾科技"),
    ("300312.SZ", "邦讯技术"),
    ("300325.SZ", "德威新材"),
    ("300330.SZ", "华虹计通"),
    ("300336.SZ", "新文化"),
    ("300356.SZ", "光慧科技"),
    ("300362.SZ", "天翔环境"),
    ("300367.SZ", "东方网力"),
    ("300372.SZ", "欣泰电气"),
    ("300392.SZ", "腾信股份"),
    ("300431.SZ", "暴风集团"),
    ("300495.SZ", "美尚生态"),
    ("300526.SZ", "中潜股份"),
    ("300630.SZ", "普利制药"),
    ("300742.SZ", "越博动力"),
    ("300799.SZ", "左江科技"),
    ("600001.SH", "邯郸钢铁"),
    ("600002.SH", "齐鲁石化"),
    ("600003.SH", "ST东北高"),
    ("600005.SH", "武钢股份"),
    ("600065.SH", "大庆联谊"),
    ("600068.SH", "葛洲坝"),
    ("600069.SH", "银鸽投资"),
    ("600070.SH", "浙江富润"),
    ("600074.SH", "中达股份"),
    ("600077.SH", "精工集团"),
    ("600083.SH", "ST博信"),
    ("600086.SH", "多佳股份"),
    ("600087.SH", "南京水运"),
    ("600090.SH", "啤酒花"),
    ("600091.SH", "黄河化工"),
    ("600092.SH", "精密股份"),
    ("600093.SH", "禾嘉股份"),
    ("600102.SH", "莱钢股份"),
    ("600112.SH", "长征电器"),
    ("600122.SH", "宏图高科"),
    ("600139.SH", "ST宏峰"),
    ("600145.SH", "*ST国创"),
    ("600146.SH", "大元股份"),
    ("600175.SH", "宝华实业"),
    ("600181.SH", "云大科技"),
    ("600190.SH", "锦州港"),
    ("600205.SH", "山东铝业"),
    ("600209.SH", "罗顿发展"),
    ("600213.SH", "亚星客车"),
    ("600220.SH", "江苏阳光"),
    ("600225.SH", "天香集团"),
    ("600240.SH", "G京华旅"),
    ("600242.SH", "华龙集团"),
    ("600247.SH", "成诚股份"),
    ("600253.SH", "ST天方"),
    ("600260.SH", "凯乐科技"),
    ("600263.SH", "路桥建设"),
    ("600270.SH", "外运发展"),
    ("600275.SH", "武昌鱼"),
    ("600277.SH", "亿利科技"),
    ("600286.SH", "国光瓷业"),
    ("600290.SH", "苏福马"),
    ("600291.SH", "西水股份"),
    ("600296.SH", "兰州铝业"),
    ("600297.SH", "美罗药业"),
    ("600306.SH", "商业城"),
    ("600311.SH", "荣华实业"),
    ("600317.SH", "营口港"),
    ("600321.SH", "国栋建设"),
    ("600357.SH", "承德钒钛"),
    ("600385.SH", "ST金泰"),
    ("600387.SH", "海越股份"),
    ("600393.SH", "东华实业"),
    ("600401.SH", "PT闽闽东"),
    ("600432.SH", "ST吉恩"),
    ("600462.SH", "ST石岘"),
    ("600466.SH", "迪康药业"),
    ("600472.SH", "包头铝业"),
    ("600485.SH", "ST中创"),
    ("600532.SH", "华阳科技"),
    ("600553.SH", "太行水泥"),
    ("600555.SH", "九龙山"),
    ("600565.SH", "ST渝钛白"),
    ("600591.SH", "上海航空"),
    ("600607.SH", "上实联合"),
    ("600614.SH", "鼎立股份"),
    ("600625.SH", "PT水仙"),
    ("600627.SH", "电器股份"),
    ("600631.SH", "PT百花村"),
    ("600632.SH", "华联商厦"),
    ("600634.SH", "ST海鸟"),
    ("600646.SH", "ST国嘉"),
    ("600647.SH", "ST同达"),
    ("600652.SH", "爱使股份"),
    ("600656.SH", "ST华源"),
    ("600659.SH", "福耀玻璃"),
    ("600669.SH", "鞍山合成"),
    ("600670.SH", "ST高斯达"),
    ("600672.SH", "ST华圣"),
    ("600677.SH", "航天通信"),
    ("600680.SH", "上海普天"),
    ("600687.SH", "新宇软件"),
    ("600695.SH", "ST大江"),
    ("600700.SH", "数码测绘"),
    ("600701.SH", "工大高新"),
    ("600705.SH", "北亚集团"),
    ("600709.SH", "ST生态"),
    ("600723.SH", "西单商场"),
    ("600747.SH", "ST大盈"),
    ("600752.SH", "哈慈股份"),
    ("600762.SH", "ST金荔"),
    ("600766.SH", "ST烟发"),
    ("600767.SH", "ST运盛"),
    ("600772.SH", "ST鲁银"),
    ("600781.SH", "ST民丰"),
    ("600786.SH", "东方锅炉"),
    ("600788.SH", "ST达曼"),
    ("600799.SH", "ST龙江"),
    ("600804.SH", "鹏博士"),
    ("600806.SH", "昆明机床"),
    ("600811.SH", "东方集团"),
    ("600813.SH", "鞍山一工"),
    ("600823.SH", "万象集团"),
    ("600832.SH", "ST明珠"),
    ("600836.SH", "界龙实业"),
    ("600837.SH", "广电网络"),
    ("600840.SH", "四川湖山"),
    ("600842.SH", "中西药业"),
    ("600852.SH", "ST中川"),
    ("600856.SH", "长春长铃"),
    ("600870.SH", "厦华电子"),
    ("600878.SH", "ST北科"),
    ("600890.SH", "长春长铃"),
    ("600891.SH", "ST秋林"),
    ("600896.SH", "中海海盛"),
    ("600898.SH", "ST郑百文"),
    ("600899.SH", "ST信联"),
    ("600978.SH", "ST宜纸"),
    ("600991.SH", "ST长控"),
    ("601028.SH", "ST玉源"),
    ("601258.SH", "ST巨力"),
    ("601268.SH", "ST二重"),
    ("601299.SH", "ST南纸"),
    ("601558.SH", "ST锐电"),
    ("601989.SH", "ST重钢"),
    ("603003.SH", "ST龙宇"),
    ("603133.SH", "ST碳元"),
    ("603157.SH", "ST拉夏"),
    ("603555.SH", "ST贵人"),
    ("603603.SH", "ST博天"),
    ("603963.SH", "ST大理"),
    ("603996.SH", "ST中新"),
    ("688086.SH", "*ST紫晶"),
    ("688555.SH", "*ST泽达"),
    ("832317.BJ", "闽雄生物"),
    ("833874.BJ", "凯添燃气"),
    ("833994.BJ", "成大生物"),
    ("T00018.SH", "老八股")
]

# 合并所有无效股票代码（北交所废弃 + A股退市）
ALL_INVALID_STOCK_CODES = BJ_OBSOLETE_CODES + A_STOCK_DELISTED_CODES

# 提取所有无效股票代码（只要代码，不要名称）
INVALID_STOCK_CODES = set([code for code, _ in ALL_INVALID_STOCK_CODES])

# A股退市代码列表（只要代码）
A_DELIST_CODES = [code for code, _ in A_STOCK_DELISTED_CODES]

# A股暂停上市代码列表（目前为空）
A_SUSPEND_CODES = []


def get_invalid_stock_codes() -> set:
    """
    获取所有无效股票代码集合
    
    Returns:
        无效股票代码集合
    """
    return INVALID_STOCK_CODES.copy()


def is_valid_stock_code(ts_code: str) -> bool:
    """
    判断股票代码是否有效
    
    Args:
        ts_code: 股票代码，如 000001.SZ
        
    Returns:
        True表示有效，False表示无效
    """
    return ts_code not in INVALID_STOCK_CODES


def filter_valid_stocks(stock_list: list) -> list:
    """
    过滤出有效的股票列表
    
    Args:
        stock_list: 股票列表，每个元素应包含ts_code字段
        
    Returns:
        过滤后的有效股票列表
    """
    return [
        stock for stock in stock_list 
        if is_valid_stock_code(stock.get('ts_code', ''))
    ]


def add_invalid_code(ts_code: str, name: str = "", reason: str = ""):
    """
    动态添加无效股票代码
    
    Args:
        ts_code: 股票代码
        name: 股票名称（可选）
        reason: 无效原因（可选）
    """
    INVALID_STOCK_CODES.add(ts_code)
    if reason:
        print(f"添加无效股票代码: {ts_code} ({name}), 原因: {reason}")


def remove_invalid_code(ts_code: str):
    """
    移除无效股票代码（如果股票恢复上市）
    
    Args:
        ts_code: 股票代码
    """
    if ts_code in INVALID_STOCK_CODES:
        INVALID_STOCK_CODES.discard(ts_code)
        print(f"移除无效股票代码: {ts_code}")


def get_invalid_codes_summary() -> dict:
    """
    获取无效代码统计摘要
    
    Returns:
        包含各类无效代码数量的字典
    """
    return {
        'bj_codes': len(BJ_OBSOLETE_CODES),
        'delist_codes': len(A_DELIST_CODES),
        'suspend_codes': len(A_SUSPEND_CODES),
        'total': len(INVALID_STOCK_CODES)
    }
